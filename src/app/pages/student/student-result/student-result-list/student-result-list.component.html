<div class="p-4">
<h2 class="font-bold text-xl mb-5 text-center">RESULTS</h2>
<div class="flex justify-center">
  <div class="bg-gray-200 p-1 rounded-full">
    <input #f (search)="search = f.value; page = 1; getData()" type="search"
      class="p-2 max-w-[250px] w-[50vw] rounded-full bg-gray-300" placeholder="Search" />
    <a (click)="search = f.value; page = 1; getData()"
      class="py-2 px-3 w-[40px] inline-block rounded-full bg-gray-300 ml-4">
      <i class="fa-solid fa-magnifying-glass"></i>
    </a>
  </div>
</div>
<div class="my-3">
  <div (click)="toggleDisplay()" class="relative">
    <span class="bg-gray-700 rounded-md text-white p-1 px-2">Sort By
      <i class="fa-solid fa-chevron-down"></i>
    </span>
    <span [style.display]="displayDiv ? 'flex' : 'none'"
      class="absolute top-7 w-[92.39px] left-0 flex rounded-md flex-col bg-gray-700 text-white">
      <p [class.light]="-1 == sortBy" (click)="sortBy = -1; getData()" class="p-1 px-2">
        Latest
      </p>
      <p [class.light]="1 == sortBy" (click)="sortBy = 1; getData()" class="p-1 px-2">
        Oldest
      </p>
    </span>
  </div>
</div>
<div class="flex flex-wrap mt-3 mb-4">
  <a [class.dark]="subject == 'All'" (click)="subject = 'All'; page = 1; getData()"
    class="p-2 bg-gray-200 m-2 my-1 ml-0 rounded-full">All</a>
  <a [class.dark]="subject == 'physics'" (click)="subject = 'physics'; page = 1; getData()"
    class="p-2 bg-gray-200 m-2 my-1 rounded-full">Physics</a>
  <a [class.dark]="subject == 'bio'" (click)="subject = 'bio'; page = 1; getData()"
    class="p-2 bg-gray-200 m-2 my-1 rounded-full">Biology</a>
  <a [class.dark]="subject == 'chemistry'" (click)="subject = 'chemistry'; page = 1; getData()"
    class="p-2 bg-gray-200 m-2 my-1 rounded-full">Chemistry</a>
  <a [class.dark]="subject == 'math'" (click)="subject = 'math'; page = 1; getData()"
    class="p-2 bg-gray-200 m-2 my-1 rounded-full">Math</a>
</div>
<div *ngIf="resultList$ | async as resultList">
  <div (click)="navigate(result._id)" class="p-2 m-1 bg-slate-200" *ngFor="let result of resultList.results">
    <div class="flex justify-between items-center">
      <span class="font-semibold text-l">{{ result.name }}</span>
        <span class="text-gray-600 text-sm">{{
        result.date | beforeComma }}</span>
    </div>
  </div>
  <div class="flex justify-center mt-4 flex-wrap">
    <a *ngFor="let page1 of resultList.pageno" [class.dark]="page1 == page" (click)="page = page1; getData()"
      class="rounded-full mx-2 bg-gray-200"><span class="m-2 aspect-square">{{ page1 }}</span></a>
  </div>
</div>
</div>
